---
version: 1.0.0
web:
  addr: 0.0.0.0:7008
  maxListen: 10
  timeout: 1s

log:
  family: xxx-service
  dir: /var/log/kops/monitor-api

orm:
  dsn: 'root:1234@tcp(127.0.0.1:3306)/kops?timeout=5s&readTimeout=5s&writeTimeout=5s&parseTime=true&loc=Local&charset=utf8'
  active: 5
  idle: 5
  idleTimeout: 4h

grpcserver:
  addr: 0.0.0.0:9010
  timeout: 120s

grpcclient:
  addr: direct://default/127.0.0.1:9007
  timeout: 10s

http:
  mode: release
  cookieDomain: ""
  cookieName: ecmc-user

sso:
  enable: false
  ssoAddr: 'http://{sso-host}'
  redirectURL: 'http://{rdb-host}/auth-callback'
  clientId: ""
  clientSecret: ""
  apiKey: ""
  attributes:
    dispname: display_name
    email: email
    phone: phone
    im: ""
    coverAttributes: false
    stateExpiresIn: 300
    captcha: false
    tokens:
      - rdb-builtin-token

ldap:
  host: ldap.example.org
  port: 389
  baseDn: dc=example,dc=org
  bindUser: cn=manager,dc=example,dc=org
  bindPass: '*******'
  authFilter: '(&(uid=%s))'
  attributes:
    dispname: cn
    email: mail
    phone: mobile
    im: ""
    coverAttributes: false
    autoRegist: true
    tls: false
    startTLS: false

redisc:
  enable: true
  addr: 127.0.0.1:6379
  pass: ""
  idle: 5
  timeout:
    conn: 500
    read: 3000
    write: 3000

collector:
  dir: /etc/kops/share/monitor-api/collectors

transfer:
  addr: 10.10.0.2:8008

judge:
  addr: 0.0.0.0:8015
